import{a as A,R as Z,j as w}from"./index-CbwJv5Bj.js";import{B as ee,E as ne}from"./ErrorView-D6Ii0ext.js";let te=0;function D(e,n){const t=`atom${++te}`,o={toString(){return t}};return typeof e=="function"?o.read=e:(o.init=e,o.read=re,o.write=se),n&&(o.write=n),o}function re(e){return e(this)}function se(e,n,t){return n(this,typeof t=="function"?t(e(this)):t)}const z=(e,n)=>e.unstable_is?e.unstable_is(n):n===e,B=e=>"init"in e,F=e=>!!e.write,S=new WeakMap,W=e=>{var n;return H(e)&&!((n=S.get(e))!=null&&n[1])},oe=(e,n)=>{const t=S.get(e);t&&(t[1]=!0,t[0].forEach(o=>o(n)))},ce=e=>{if(S.has(e))return;const n=[new Set,!1];S.set(e,n);const t=()=>{n[1]=!0};e.then(t,t),e.onCancel=o=>{n[0].add(o)}},H=e=>typeof(e==null?void 0:e.then)=="function",J=e=>"v"in e||"e"in e,I=e=>{if("e"in e)throw e.e;return e.v},O=(e,n,t)=>{t.p.has(e)||(t.p.add(e),n.then(()=>{t.p.delete(e)},()=>{t.p.delete(e)}))},U=(e,n,t,o,a)=>{var x;t.d.set(o,a.n),W(t.v)&&O(n,t.v,a),(x=a.m)==null||x.t.add(n),e&&ie(e,o,n)},L=()=>[new Map,new Map,new Set],V=(e,n,t)=>{e[0].has(n)||e[0].set(n,new Set),e[1].set(n,t)},ie=(e,n,t)=>{const o=e[0].get(n);o&&o.add(t)},le=(e,n)=>e[0].get(n),$=(e,n)=>{e[2].add(n)},_=e=>{let n,t=!1;const o=a=>{try{a()}catch(x){t||(n=x,t=!0)}};for(;e[1].size||e[2].size;){e[0].clear();const a=new Set(e[1].values());e[1].clear();const x=new Set(e[2]);e[2].clear(),a.forEach(j=>{var b;return(b=j.m)==null?void 0:b.l.forEach(o)}),x.forEach(o)}if(t)throw n},Q=(...[e,n,t,o])=>{const a=(i,r,s)=>{const d="v"in r,c=r.v,f=W(r.v)?r.v:null;if(H(s)){ce(s);for(const l of r.d.keys())O(i,s,e(l));r.v=s,delete r.e}else r.v=s,delete r.e;(!d||!Object.is(c,r.v))&&(++r.n,f&&oe(f,s))},x=(i,r,s)=>{var d;const c=e(r);if(J(c)&&(c.m&&!(s!=null&&s.has(r))||Array.from(c.d).every(([m,P])=>x(i,m,s).n===P)))return c;c.d.clear();let f=!0;const l=m=>{if(z(r,m)){const C=e(m);if(!J(C))if(B(m))a(m,C,m.init);else throw new Error("no atom init");return I(C)}const P=x(i,m,s);try{return I(P)}finally{if(f)U(i,r,c,m,P);else{const C=L();U(C,r,c,m,P),N(C,r,c),_(C)}}};let h,y;const M={get signal(){return h||(h=new AbortController),h.signal},get setSelf(){return!y&&F(r)&&(y=(...m)=>{if(!f)return k(r,...m)}),y}};try{const m=n(r,l,M);if(a(r,c,m),H(m)){(d=m.onCancel)==null||d.call(m,()=>h==null?void 0:h.abort());const P=()=>{if(c.m){const C=L();N(C,r,c),_(C)}};m.then(P,P)}return c}catch(m){return delete c.v,c.e=m,++c.n,c}finally{f=!1}},j=i=>I(x(void 0,i)),b=(i,r,s)=>{var d,c;const f=new Map;for(const l of((d=s.m)==null?void 0:d.t)||[])f.set(l,e(l));for(const l of s.p)f.set(l,e(l));return(c=le(i,r))==null||c.forEach(l=>{f.set(l,e(l))}),f};function v(i,r,s){const d=[],c=new Set,f=new Set,l=[[r,s]];for(;l.length>0;){const[h,y]=l[l.length-1];if(f.has(h)){l.pop();continue}if(c.has(h)){d.push([h,y,y.n]),f.add(h),l.pop();continue}c.add(h);for(const[M,m]of b(i,h,y))h!==M&&!c.has(M)&&l.push([M,m])}return[d,f]}const u=(i,r,s)=>{const[d,c]=v(i,r,s),f=new Set([r]);for(let l=d.length-1;l>=0;--l){const[h,y,M]=d[l];let m=!1;for(const P of y.d.keys())if(P!==h&&f.has(P)){m=!0;break}m&&(x(i,h,c),N(i,h,y),M!==y.n&&(V(i,h,y),f.add(h))),c.delete(h)}},p=(i,r,...s)=>{let d=!0;const c=l=>I(x(i,l)),f=(l,...h)=>{const y=e(l);try{if(z(r,l)){if(!B(l))throw new Error("atom not writable");const M=y.n,m=h[0];a(l,y,m),N(i,l,y),M!==y.n&&(V(i,l,y),u(i,l,y));return}else return p(i,l,...h)}finally{d||_(i)}};try{return t(r,c,f,...s)}finally{d=!1}},k=(i,...r)=>{const s=L();try{return p(s,i,...r)}finally{_(s)}},N=(i,r,s)=>{if(s.m&&!W(s.v)){for(const d of s.d.keys())s.m.d.has(d)||(g(i,d,e(d)).t.add(r),s.m.d.add(d));for(const d of s.m.d||[])if(!s.d.has(d)){s.m.d.delete(d);const c=E(i,d,e(d));c==null||c.t.delete(r)}}},g=(i,r,s)=>{if(!s.m){x(i,r);for(const d of s.d.keys())g(i,d,e(d)).t.add(r);if(s.m={l:new Set,d:new Set(s.d.keys()),t:new Set},F(r)){const d=s.m;let c;const f=(l,h)=>{let y=!0;c=(...M)=>{try{return p(l,r,...M)}finally{y||_(l)}};try{return h()}finally{y=!1}};$(i,()=>{const l=f(i,()=>o(r,(...h)=>c(...h)));l&&(d.u=h=>f(h,l))})}}return s.m},E=(i,r,s)=>{if(s.m&&!s.m.l.size&&!Array.from(s.m.t).some(d=>{var c;return(c=e(d).m)==null?void 0:c.d.has(r)})){const d=s.m.u;d&&$(i,()=>d(i)),delete s.m;for(const c of s.d.keys()){const f=E(i,c,e(c));f==null||f.t.delete(r)}return}return s.m};return{get:j,set:k,sub:(i,r)=>{const s=L(),d=e(i),f=g(s,i,d).l;return f.add(r),_(s),()=>{f.delete(r);const l=L();E(l,i,d),_(l)}},unstable_derive:i=>Q(...i(e,n,t,o))}},ue=()=>{const e=new WeakMap;return Q(t=>{let o=e.get(t);return o||(o={d:new Map,p:new Set,n:0},e.set(t,o)),o},(t,...o)=>t.read(...o),(t,...o)=>t.write(...o),(t,...o)=>{var a;return(a=t.onMount)==null?void 0:a.call(t,...o)})};let R;const de=()=>(R||(R=ue()),R),ae=A.createContext(void 0),G=e=>A.useContext(ae)||de(),K=e=>typeof(e==null?void 0:e.then)=="function",fe=e=>{e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n})},he=Z.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(fe(e),e)}),T=new WeakMap,we=e=>{let n=T.get(e);return n||(n=new Promise((t,o)=>{let a=e;const x=v=>u=>{a===v&&t(u)},j=v=>u=>{a===v&&o(u)},b=v=>{"onCancel"in v&&typeof v.onCancel=="function"&&v.onCancel(u=>{K(u)?(T.set(u,n),a=u,u.then(x(u),j(u)),b(u)):t(u)})};e.then(x(e),j(e)),b(e)}),T.set(e,n)),n};function me(e,n){const t=G(),[[o,a,x],j]=A.useReducer(u=>{const p=t.get(e);return Object.is(u[0],p)&&u[1]===t&&u[2]===e?u:[p,t,e]},void 0,()=>[t.get(e),t,e]);let b=o;if((a!==t||x!==e)&&(j(),b=t.get(e)),A.useEffect(()=>{const u=t.sub(e,()=>{j()});return j(),u},[t,e,void 0]),A.useDebugValue(b),K(b)){const u=we(b);return he(u)}return b}function be(e,n){const t=G();return A.useCallback((...a)=>t.set(e,...a),[t,e])}function ve(e,n){return[me(e),be(e)]}const xe=Symbol(""),ye=e=>typeof(e==null?void 0:e.then)=="function";function pe(e=()=>{try{return window.localStorage}catch{return}},n){var t;let o,a;const x={getItem:(v,u)=>{var p,k;const N=E=>{if(E=E||"",o!==E){try{a=JSON.parse(E,n==null?void 0:n.reviver)}catch{return u}o=E}return a},g=(k=(p=e())==null?void 0:p.getItem(v))!=null?k:null;return ye(g)?g.then(N):N(g)},setItem:(v,u)=>{var p;return(p=e())==null?void 0:p.setItem(v,JSON.stringify(u,void 0))},removeItem:v=>{var u;return(u=e())==null?void 0:u.removeItem(v)}},j=v=>(u,p,k)=>v(u,N=>{let g;try{g=JSON.parse(N||"")}catch{g=k}p(g)});let b;try{b=(t=e())==null?void 0:t.subscribe}catch{}return!b&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(b=(v,u)=>{if(!(e()instanceof window.Storage))return()=>{};const p=k=>{k.storageArea===e()&&k.key===v&&u(k.newValue)};return window.addEventListener("storage",p),()=>{window.removeEventListener("storage",p)}}),b&&(x.subscribe=j(b)),x}const je=pe();function ke(e,n,t=je,o){const a=D(n);return a.onMount=j=>{j(t.getItem(e,n));let b;return t.subscribe&&(b=t.subscribe(e,j,n)),b},D(j=>j(a),(j,b,v)=>{const u=typeof v=="function"?v(j(a)):v;return u===xe?(b(a,n),t.removeItem(e)):u instanceof Promise?u.then(p=>(b(a,p),t.setItem(e,p))):(b(a,u),t.setItem(e,u))})}const q=ke("theme","light"),ge=D(()=>window.matchMedia("(prefers-color-scheme: dark)")),X=D(e=>{const n=e(ge),t=e(q);return t||(n.matches?"dark":"light")},(e,n)=>{const o=e(X)==="light"?"dark":"light";n(q,o)});function Me(){const[e,n]=ve(X);A.useEffect(()=>{var o,a;e==="dark"?(document.documentElement.classList.add("dark"),(o=document.querySelector("html"))==null||o.setAttribute("data-theme","dark")):(document.documentElement.classList.remove("dark"),(a=document.querySelector("html"))==null||a.setAttribute("data-theme","light"))},[e]);function t(){n()}return{mode:e,onSwitch:t}}function Pe(){const e=Me(),n=A.useCallback(()=>{console.log("Share button clicked!")},[]);return{themeSwitchProps:e,exampleCardProps:{label:"Hello World",onShare:n}}}const Ee=""+new URL("card-image-1iBJDkpU.jpg",import.meta.url).href;function Ce({label:e,onShare:n}){return w.jsxs("div",{className:"card max-w-96 min-w-16 bg-base-100 shadow-xl",children:[w.jsx("figure",{children:w.jsx("img",{src:Ee,alt:"Shoes"})}),w.jsxs("div",{className:"card-body",children:[w.jsx("h2",{className:"card-title",children:e}),w.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero."}),w.jsx("div",{className:"card-actions justify-end",children:w.jsx("button",{onClick:n,className:"btn btn-primary","data-testid":"example-card__share-button",children:"Share"})})]})]})}function Ne({mode:e,onSwitch:n}){return w.jsxs("label",{className:"cursor-pointer grid place-items-center",children:[w.jsx("input",{type:"checkbox",checked:e==="dark",value:e,onChange:n,className:"toggle theme-controller bg-base-content row-start-1 col-start-1 col-span-2"}),w.jsxs("svg",{className:"col-start-1 row-start-1 stroke-base-100 fill-base-100",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("circle",{cx:"12",cy:"12",r:"5"}),w.jsx("path",{d:"M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"})]}),w.jsx("svg",{className:"col-start-2 row-start-1 stroke-base-100 fill-base-100",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:w.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})]})}function Ae({themeSwitchProps:e,exampleCardProps:n}){return w.jsxs(ee,{container:!0,footer:!0,children:[w.jsxs("div",{className:"w-full flex items-center justify-center",children:[w.jsx("div",{className:"flex flex-1"}),w.jsx("div",{className:"relative top-5 right-5 sm:top-10 z-20",children:w.jsx(Ne,{...e})})]}),w.jsx("div",{className:"flex flex-1",children:w.jsx("div",{className:"hero-content text-center",children:w.jsxs("div",{className:"max-w-md",children:[w.jsx("h1",{className:"inline-block bg-gradient-to-r from-primary to-secondary bg-clip-text p-2 text-3xl font-bold text-transparent md:text-2xl lg:text-5xl",children:"Simple Web App"}),w.jsx("div",{className:"mt-2",children:w.jsx(Ce,{...n})})]})})})]})}function _e(){const e=Pe();return w.jsx(Ae,{...e})}function Le(){return w.jsx(_e,{})}Le.displayName="HomePage";function Te(){return w.jsx(ne,{})}export{Le as Component,Te as ErrorBoundary};
